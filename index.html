<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Infographic: Apple's Sustainable Future</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    .chart-container {
      position: relative;
      width: 100%;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      height: 300px;
      max-height: 400px;
    }

    @media (min-width: 768px) {
      .chart-container {
        height: 350px;
      }
    }

    .gradient-text {
      background: linear-gradient(to right, #0077B6, #00B4D8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: #fefefe;
      margin: auto;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 600px;
      position: relative;
    }

    .close-button {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close-button:hover,
    .close-button:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }
  </style>
</head>

<body class="bg-[#CAF0F8]">
  <!--
    Infographic Plan:
    1. Hero: Title and investor promise.
    2. Net-Zero 2030 Commitment: Present the main goal.
    3. Pillars of Action: Detail Renewable Energy and Circular Economy.
    4. Proven Results and Financial Value: Connect actions with business outcomes.
    5. Detailed Circular Economy: Visualize the closed-loop process.
    6. Leadership and Future: Conclude with the future vision.
    7. New Gemini API Section: Sustainability Ideas Generator.

    Visualization Selection (NO SVG, NO MERMAID):
    - Hero: Large, bold text. (HTML/CSS)
    - Net-Zero 2030: Large "2030" number. (HTML/CSS)
    - Renewable Energy: Donut Chart. (Chart.js/Canvas)
    - Recycled Materials: Bar Chart. (Chart.js/Canvas)
    - CO2e Reduction: Line Chart. (Chart.js/Canvas)
    - Investor Value: Structured list with Unicode icons. (HTML/CSS)
    - Circular Economy Flow: Flowchart with HTML/CSS elements. (HTML/CSS with Tailwind)
    - Leadership: Quote block. (HTML/CSS)
    - Ideas Generator: Button that triggers modal with text generated by Gemini API. (HTML/CSS/JS with fetch)

    Selected Color Palette: Brilliant Blues (#004AAD, #0077B6, #00B4D8, #90E0EF, #CAF0F8)

    Confirmation: NEITHER MERMAID JS NOR SVG were used in this output. All visualizations are Chart.js (Canvas) or pure HTML/CSS.
    -->

  <div class="container mx-auto p-4 md:p-8">

    <header class="text-center my-12 md:my-16">
      <h1 class="text-4xl md:text-6xl font-black text-[#004AAD] tracking-tight">Apple: Investing in a Green and Solid
        Future</h1>
      <p class="mt-4 md:mt-6 max-w-3xl mx-auto text-lg md:text-xl text-[#0077B6] font-semibold">Leading Sustainability
        for Long-Term Value and Business Resilience.</p>
      <div class="mt-8 bg-white/70 backdrop-blur-sm rounded-xl p-6 max-w-4xl mx-auto shadow-lg border border-gray-200">
        <p class="text-xl md:text-2xl font-bold gradient-text">Sustainability is not just an option for Apple; it is a
          strategic pillar that drives innovation, strengthens the brand, and mitigates risks, generating lasting value
          for our investors.</p>
      </div>
    </header>

    <main>
      <section id="net-zero" class="my-16 md:my-24 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-[#004AAD]">Our Historic Commitment: Net-Zero</h2>
        <p class="text-8xl md:text-9xl font-black gradient-text my-4">2030</p>
        <p class="max-w-2xl mx-auto text-lg text-[#0077B6]">Apple is committed to being carbon neutral across its entire
          value chain (operations, manufacturing, and product lifecycle) by 2030. This is one of the tech industry's
          most ambitious goals.</p>
      </section>

      <section id="pillars" class="my-16 md:my-24">
        <h2 class="text-3xl md:text-4xl font-bold text-[#004AAD] text-center mb-12">Our Pillars of Action</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
          <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-2xl font-bold text-[#0077B6] mb-4">Transition to Renewable Energy</h3>
            <p class="text-gray-600 mb-6">We have already achieved 100% renewable energy for our global operations and
              are leading the transition in our supply chain, helping our partners make the switch.</p>
            <div class="chart-container">
              <canvas id="renewableEnergyChart"></canvas>
            </div>
            <p class="text-center text-sm text-gray-500 mt-2">Energy Usage in Apple Operations</p>
          </div>
          <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-2xl font-bold text-[#0077B6] mb-4">Driving the Circular Economy</h3>
            <p class="text-gray-600 mb-6">Our goal is to create a closed loop, using only recycled or renewable
              materials in our products and designing them to last and be easy to recycle.</p>
            <div class="chart-container">
              <canvas id="recycledContentChart"></canvas>
            </div>
            <p class="text-center text-sm text-gray-500 mt-2">Increase in Key Recycled Content</p>
          </div>
        </div>
      </section>

      <section id="results" class="my-16 md:my-24">
        <h2 class="text-3xl md:text-4xl font-bold text-[#004AAD] text-center mb-12">Proven Results and Investor
          Advantage</h2>
        <div class="grid grid-cols-1 md:grid-cols-5 gap-8">
          <div class="md:col-span-3 bg-white rounded-lg shadow-md p-6">
            <h3 class="text-2xl font-bold text-[#0077B6] mb-4">Reducing Carbon Footprint</h3>
            <p class="text-gray-600 mb-6">Thanks to our initiatives in efficiency, materials, and clean energy, we have
              drastically reduced our carbon emissions, even as our business has grown.</p>
            <div class="chart-container h-80 max-h-[450px]">
              <canvas id="carbonFootprintChart"></canvas>
            </div>
          </div>
          <div class="md:col-span-2 bg-white rounded-lg shadow-md p-6 flex flex-col justify-center">
            <h3 class="text-2xl font-bold text-[#0077B6] mb-6">Sustainability = Profit</h3>
            <ul class="space-y-4">
              <li class="flex items-start">
                <span class="text-2xl mr-4">üìà</span>
                <div>
                  <h4 class="font-bold text-gray-800">Reputation & Loyalty</h4>
                  <p class="text-gray-600">Attracts environmentally conscious customers and talent.</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="text-2xl mr-4">üí∞</span>
                <div>
                  <h4 class="font-bold text-gray-800">Efficiency & Savings</h4>
                  <p class="text-gray-600">Reduces long-term energy and material costs.</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="text-2xl mr-4">üõ°Ô∏è</span>
                <div>
                  <h4 class="font-bold text-gray-800">Risk Mitigation</h4>
                  <p class="text-gray-600">Decreases exposure to regulatory and supply chain risks.</p>
                </div>
              </li>
              <li class="flex items-start">
                <span class="text-2xl mr-4">ü™ô</span> <!-- Corrected: Replaced "Capital" text with coin icon -->
                <div>
                  <h4 class="font-bold text-gray-800">ESG Capital Attraction</h4>
                  <p class="text-gray-600">Access to growing sustainable investment flows.</p>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <section id="flow" class="my-16 md:my-24">
        <h2 class="text-3xl md:text-4xl font-bold text-[#004AAD] text-center mb-4">Visualizing the Circular Economy</h2>
        <p class="text-lg text-[#0077B6] text-center max-w-3xl mx-auto mb-12">It's not a linear path, but a continuous
          cycle of innovation and resource recovery, driven by cutting-edge technology.</p>
        <div class="relative p-4">
          <div class="flex flex-col md:flex-row items-center justify-between space-y-8 md:space-y-0 md:space-x-4">
            <div class="text-center z-10">
              <div
                class="bg-white rounded-full h-28 w-28 flex items-center justify-center shadow-lg border-2 border-[#00B4D8]">
                <span class="text-4xl">‚úèÔ∏è</span></div>
              <p class="mt-2 font-bold text-[#004AAD]">1. Design &<br>Manufacturing</p>
            </div>
            <div class="hidden md:block absolute top-1/2 left-0 w-full h-0.5 bg-[#90E0EF] transform -translate-y-1/2">
            </div>
            <div class="text-center z-10">
              <div
                class="bg-white rounded-full h-28 w-28 flex items-center justify-center shadow-lg border-2 border-[#00B4D8]">
                <span class="text-4xl">üì±</span></div>
              <p class="mt-2 font-bold text-[#004AAD]">2. Customer<br>Use</p>
            </div>
            <div class="text-center z-10">
              <div
                class="bg-white rounded-full h-28 w-28 flex items-center justify-center shadow-lg border-2 border-[#00B4D8]">
                <span class="text-4xl">üîÑ</span></div>
              <p class="mt-2 font-bold text-[#004AAD]">3. Trade In<br>Program</p>
            </div>
            <div class="text-center z-10">
              <div
                class="bg-white rounded-full h-28 w-28 flex items-center justify-center shadow-lg border-2 border-[#00B4D8]">
                <span class="text-4xl">ü§ñ</span></div>
              <p class="mt-2 font-bold text-[#004AAD]">4. Daisy<br>Disassembly</p> <!-- Corrected text here -->
            </div>
            <div class="text-center z-10">
              <div
                class="bg-white rounded-full h-28 w-28 flex items-center justify-center shadow-lg border-2 border-[#00B4D8]">
                <span class="text-4xl">‚ôªÔ∏è</span></div>
              <p class="mt-2 font-bold text-[#004AAD]">5. Recovery &<br>Recycling</p>
            </div>
          </div>
        </div>
        <p class="text-center text-lg mt-8 text-[#0077B6]">Recovered materials are reintroduced into the supply chain,
          closing the loop.</p>
      </section>

      <section id="gemini-feature" class="my-16 md:my-24 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-[#004AAD] mb-6">‚ú® Sustainable Inspiration with Gemini ‚ú®</h2>
        <p class="max-w-2xl mx-auto text-lg text-[#0077B6] mb-8">Discover how you can contribute to a sustainable
          future, inspired by Apple's advancements.</p>
        <button id="generateIdeasBtn"
          class="bg-[#0077B6] hover:bg-[#00B4D8] text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
          ‚ú® Generate Sustainability Ideas ‚ú®
        </button>
        <div id="loadingIndicator" class="mt-4 hidden text-[#004AAD] font-semibold">Loading ideas...</div>
      </section>

      <footer class="my-16 md:my-24 text-center">
        <div class="bg-white/70 backdrop-blur-sm rounded-xl p-8 max-w-4xl mx-auto shadow-lg border border-gray-200">
          <h2 class="text-2xl md:text-3xl font-bold text-[#004AAD]">Leading the Industry Towards a Sustainable Future
          </h2>
          <blockquote class="mt-4 text-lg md:text-xl text-[#0077B6] italic">
            "Investing in Apple means investing in a company that not only dominates the market but is also actively
            building a more resilient and sustainable future for the planet and its shareholders."
          </blockquote>
        </div>
      </footer>

    </main>
  </div>

  <!-- Modal to display ideas -->
  <div id="ideasModal" class="modal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <h3 class="text-2xl font-bold text-[#004AAD] mb-4">Sustainability Ideas</h3>
      <div id="ideasContent" class="text-gray-700 text-base max-h-96 overflow-y-auto"></div>
    </div>
  </div>

  <script>
    const brilliantBlues = {
      dark: '#004AAD',
      medium: '#0077B6',
      light: '#00B4D8',
      lighter: '#90E0EF',
      lightest: '#CAF0F8'
    };

    function wrapLabel(label) {
      const maxLength = 16;
      if (typeof label === 'string' && label.length > maxLength) {
        const words = label.split(' ');
        const lines = [];
        let currentLine = '';
        words.forEach(word => {
          if ((currentLine + word).length > maxLength) {
            lines.push(currentLine.trim());
            currentLine = '';
          }
          currentLine += word + ' ';
        });
        lines.push(currentLine.trim());
        return lines;
      }
      return label;
    }

    const tooltipTitleCallback = (tooltipItems) => {
      const item = tooltipItems[0];
      let label = item.chart.data.labels[item.dataIndex];
      return Array.isArray(label) ? label.join(' ') : label;
    };

    const defaultChartOptions = {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            color: brilliantBlues.dark,
            font: {
              size: 12
            }
          }
        },
        tooltip: {
          callbacks: {
            title: tooltipTitleCallback
          }
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          ticks: { color: brilliantBlues.dark },
          grid: { color: '#e0e0e0' }
        },
        x: {
          ticks: { color: brilliantBlues.dark },
          grid: { display: false }
        }
      }
    };

    new Chart(document.getElementById('renewableEnergyChart'), {
      type: 'doughnut',
      data: {
        labels: ['Renewable Energy', 'Other Sources'],
        datasets: [{
          label: 'Energy Usage in Operations',
          data: [100, 0],
          backgroundColor: [brilliantBlues.light, brilliantBlues.lightest],
          borderColor: [brilliantBlues.medium, '#ffffff'],
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'bottom',
          },
          tooltip: {
            callbacks: {
              title: tooltipTitleCallback
            }
          }
        }
      }
    });

    new Chart(document.getElementById('recycledContentChart'), {
      type: 'bar',
      data: {
        labels: ['Aluminum in Enclosures', 'Rare Earth Elements', wrapLabel('Tin in Logic Boards'), 'Cobalt in Batteries'].map(wrapLabel),
        datasets: [{
          label: '% of Certified Recycled Content',
          data: [100, 45, 100, 25],
          backgroundColor: brilliantBlues.light,
          borderColor: brilliantBlues.medium,
          borderWidth: 1,
          borderRadius: 5
        }]
      },
      options: { ...defaultChartOptions }
    });

    new Chart(document.getElementById('carbonFootprintChart'), {
      type: 'line',
      data: {
        labels: ['2018', '2019', '2020', '2021', '2022', '2023'],
        datasets: [{
          label: 'Carbon Footprint (Millions of tons of CO2e)',
          data: [25.2, 24.5, 22.6, 21.5, 20.1, 18.9],
          fill: true,
          backgroundColor: 'rgba(144, 224, 239, 0.4)',
          borderColor: brilliantBlues.light,
          tension: 0.4,
          pointBackgroundColor: brilliantBlues.medium,
          pointRadius: 5
        }]
      },
      options: { ...defaultChartOptions }
    });

    document.getElementById('generateIdeasBtn').addEventListener('click', async () => {
      const loadingIndicator = document.getElementById('loadingIndicator');
      const ideasContent = document.getElementById('ideasContent');
      const ideasModal = document.getElementById('ideasModal');

      loadingIndicator.classList.remove('hidden');
      ideasContent.innerHTML = '';
      ideasModal.style.display = 'flex';

      const prompt = "Generate 5 concise and practical ideas on how an individual or a small business can contribute to sustainability, inspired by the efforts of a leading tech company like Apple (e.g., recycling, renewable energy, durable design). List the ideas.";
      let chatHistory = [];
      chatHistory.push({ role: "user", parts: [{ text: prompt }] });
      const payload = { contents: chatHistory };
      const apiKey = "";
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

      try {
        const response = await fetch(apiUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        const result = await response.json();

        if (result.candidates && result.candidates.length > 0 &&
          result.candidates[0].content && result.candidates[0].content.parts &&
          result.candidates[0].content.parts.length > 0) {
          const text = result.candidates[0].content.parts[0].text;
          ideasContent.innerHTML = text.replace(/\n/g, '<br>');
        } else {
          ideasContent.innerHTML = 'Sorry, I could not generate ideas at this time. Please try again.';
        }
      } catch (error) {
        ideasContent.innerHTML = 'An error occurred connecting to the API. Please try again later.';
        console.error('Error fetching ideas:', error);
      } finally {
        loadingIndicator.classList.add('hidden');
      }
    });

    document.querySelector('.close-button').addEventListener('click', () => {
      document.getElementById('ideasModal').style.display = 'none';
    });

    window.addEventListener('click', (event) => {
      if (event.target == document.getElementById('ideasModal')) {
        document.getElementById('ideasModal').style.display = 'none';
      }
    });
  </script>
</body>

</html>